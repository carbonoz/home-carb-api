# CARBONOZ Socket Connection Broker

## Prerequisites

Before connecting to the WebSocket broker, users must first create an account on the Carbonoz platform:

ðŸ”— Sign up here: [Carbonoz dashboard](https://login.carbonoz.com/)

Once registered, the user will receive authentication credentials required to establish a connection.

## WebSocket Connection Details

- **Broker URL:** [`wss://broker.carbonoz.com:8000`](wss://broker.carbonoz.com:8000)
- **Protocol:** Secure WebSocket (`wss`)
- **Authentication:** A valid user account is required.

## Expected Data Format

Devices must send battery and energy data in the following JSON format:

```json
{
  "userId": "12345",
  "load": 0,
  "pv": 0,
  "gridIn": 0,
  "gridOut": 0,
  "batteryCharged": 0,
  "batteryDischarged": 0,
  "timestamp": "2024-09-10T12:34:56Z"
}
```

## Field Explanations

- **userId** â€” Unique identifier for the registered user.
- **deviceId** â€” Identifier for the device sending data.
- **load** â€” Current energy consumption.
- **pv** â€” Power generated by solar panels.
- **gridIn** â€” Power received from the main grid.
- **gridOut** â€” Power sent back to the grid.
- **batteryCharged** â€” Amount of energy stored in the battery.
- **batteryDischarged** â€” Amount of energy discharged from the battery.
- **timestamp** â€” ISO-8601 formatted timestamp of the data entry.
